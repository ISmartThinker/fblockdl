<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Profile Picture API - @ISmartCoder</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <!-- Custom CSS -->
    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .hero-section {
            background: url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3') no-repeat center center;
            background-size: cover;
            color: white;
            padding: 100px 0;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .btn-primary {
            background-color: #1877f2;
            border-color: #1877f2;
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #165eab;
        }
        .footer {
            background-color: #343a40;
            color: white;
            padding: 20px 0;
        }
        .api-form {
            max-width: 600px;
            margin: 0 auto;
        }
        .result-section {
            display: none;
            margin-top: 20px;
        }
        .download-btn {
            margin: 5px;
        }
        .telegram-link {
            color: #0088cc;
            text-decoration: none;
        }
        .telegram-link:hover {
            text-decoration: underline;
        }
        @media (max-width: 768px) {
            .hero-section {
                padding: 50px 0;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 fw-bold">Facebook Profile Picture API</h1>
            <p class="lead">Easily retrieve profile picture URLs from Facebook profiles</p>
            <p class="mt-3">Developed by <strong>@ISmartCoder</strong> (Abir Arafat Chawdhury)</p>
            <a href="#api-docs" class="btn btn-primary btn-lg mt-3">Explore API Docs</a>
        </div>
    </section>

    <!-- API Form Section -->
    <section class="py-5">
        <div class="container api-form">
            <div class="card p-4">
                <h2 class="text-center mb-4">Try the API</h2>
                <form id="apiForm">
                    <div class="mb-3">
                        <label for="profileUrl" class="form-label">Facebook Profile URL</label>
                        <input type="url" class="form-control" id="profileUrl" placeholder="e.g., https://www.facebook.com/profile.php?id=100092143732231" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Get Profile Picture</button>
                </form>
                <div id="resultSection" class="result-section">
                    <h4 class="mt-4">Result</h4>
                    <div id="result" class="alert"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- API Documentation Section -->
    <section id="api-docs" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5">API Documentation</h2>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card p-4">
                        <h4><i class="fas fa-server me-2"></i> Endpoint</h4>
                        <p><code>/dl</code></p>
                        <p><strong>Method:</strong> GET</p>
                        <p><strong>Parameter:</strong> url (Facebook profile URL)</p>
                        <p><strong>Example:</strong></p>
                        <pre class="bg-dark text-light p-3 rounded">http://your-server:5000/dl?url=https://www.facebook.com/profile.php?id=100092143732231</pre>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card p-4">
                        <h4><i class="fas fa-info-circle me-2"></i> Description</h4>
                        <p>Retrieve profile picture download URL(s) in JSON format.</p>
                        <p><strong>Response Format:</strong></p>
                        <pre class="bg-dark text-light p-3 rounded">{
    "status": "success",
    "data": {
        "download_urls": {
            "large": "url",
            "medium": "url",
            "small": "url"
        },
        "profile_info": {
            "name": "string",
            "joined": "string",
            "updated": "string",
            "locked": "string"
        },
        "api_dev": "@ISmartCoder",
        "updates_channel": "t.me/TheSmartDev",
        "time_taken": "seconds"
    }
}</pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer text-center">
        <div class="container">
            <p>&copy; 2025 Facebook Profile Picture API. All rights reserved.</p>
            <p>Developed by <strong>@ISmartCoder</strong> (Abir Arafat Chawdhury)</p>
            <p>Join our <a href="https://t.me/TheSmartDev" class="telegram-link">Telegram Channel</a> for updates!</p>
        </div>
    </footer>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script>
        document.getElementById('apiForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const profileUrl = document.getElementById('profileUrl').value;
            const resultSection = document.getElementById('resultSection');
            const resultDiv = document.getElementById('result');

            try {
                const response = await fetch(`/dl?url=${encodeURIComponent(profileUrl)}`);
                const data = await response.json();

                resultSection.style.display = 'block';
                resultDiv.innerHTML = '';

                if (data.status === 'success') {
                    resultDiv.className = 'alert alert-success';
                    let content = '<h5>Profile Data</h5>';

                    if (data.data.download_urls) {
                        content += '<p><strong>Download URLs:</strong></p>';
                        for (const [size, url] of Object.entries(data.data.download_urls)) {
                            if (url) {
                                content += `<p>${size}: <a href="${url}" class="btn btn-sm btn-outline-primary download-btn" download>Download ${size}</a></p>`;
                            }
                        }
                    } else if (data.data.download_url) {
                        content += `<p><strong>Download URL:</strong> <a href="${data.data.download_url}" class="btn btn-sm btn-outline-primary download-btn" download>Download</a></p>`;
                    }

                    if (data.data.profile_info) {
                        content += '<p><strong>Profile Info:</strong></p>';
                        for (const [key, value] of Object.entries(data.data.profile_info)) {
                            if (value) {
                                content += `<p>${key.charAt(0).toUpperCase() + key.slice(1)}: ${value}</p>`;
                            }
                        }
                    }

                    content += `<p><strong>Time Taken:</strong> ${data.data.time_taken}</p>`;
                    resultDiv.innerHTML = content;
                } else {
                    resultDiv.className = 'alert alert-danger';
                    resultDiv.innerHTML = `<p><strong>Error:</strong> ${data.message}</p>`;
                }
            } catch (error) {
                resultSection.style.display = 'block';
                resultDiv.className = 'alert alert-danger';
                resultDiv.innerHTML = `<p><strong>Error:</strong> Failed to fetch data. Please try again.</p>`;
            }
        });
    </script>
</body>
</html>
